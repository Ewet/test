<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>支付宝支付</title>
		<link rel="stylesheet" href="css/iconfont/iconfont.css" />
	</head>
	<body>
		<div class="content">支付宝支付</div>
		<i class="iconfont icon-user"></i>
		<script type="text/javascript">
			// 由于机制问题，JSAPI注入是异步过程，时序无法保证。
			// 如果使用原生AlipayJSBridge接口，需要先监听AlipayJSBridgeReady事件后再调用原生JSAPI接口。
			
			function ready(callback) {
			  // 如果jsbridge已经注入则直接调用
			  if (window.AlipayJSBridge) {
			    callback && callback();
			  } else {
			    // 如果没有注入则监听注入的事件
			    document.addEventListener('AlipayJSBridgeReady', callback, false);
			  }
			}
			ready(function () {
			  AlipayJSBridge.call('toast', {
			    content: 'hello'
			  });
			});
		</script>
	</body>
</html>
